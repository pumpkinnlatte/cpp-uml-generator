# test/CMakeLists.txt

# Incluir el módulo FetchContent en este ámbito
include(FetchContent)

FetchContent_MakeAvailable(Catch2)

# TEST EXECUTABLE
add_executable(run_tests
    # Añada sus archivos de prueba aquí
    parser/test_libclangparser.cpp
    # model/test_model.cpp
)

target_link_libraries(run_tests
    PRIVATE
        core_lib
        Catch2::Catch2WithMain # Objetivo importado por Catch2
)

list(APPEND CMAKE_MODULE_PATH ${catch2_SOURCE_DIR}/extras)

include(CTest)
include(Catch) # <-- Esto ahora encontrará 'Catch.cmake' gracias al paso 4

catch_discover_tests(run_tests)